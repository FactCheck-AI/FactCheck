SAN FRANCISCO — When Arnold Schwarzenegger was governor of California, he backed environmental legislation that led to one of the world’s most closely watched initiatives in the fight against global warming.

On Tuesday, Schwarzenegger joined his successor, Jerry Brown, as Brown signed legislation that kept alive a cap and trade program that both men have urged the rest of the world to emulate.

The program puts a cap and a price on carbon emissions, creating an incentive for polluters to reduce emissions.

Brown, a Democrat, and Schwarzenegger, a Republican, have enthusiastically picked fights with President Donald Trump on climate change since Trump announced he was pulling the U.S. out of the Paris climate accord.

“America is fully in the Paris agreement. There’s only one man that dropped out,” Schwarzenegger said of Trump on Tuesday. “America did not drop out.”

Both governors have hailed California’s cap and trade program as a successful way to reduce emissions that hasn’t taken the steam out of California’s thriving economy.

In a ceremony on San Francisco’s Treasure Island, Brown signed the legislation that will add 10 years to the program, which had been scheduled to expire in 2020.

“California is leading the world in dealing with the existential threat that it faces,” Brown said.

The signing follows a frenetic push by Brown and his legislative allies to craft a plan that businesses and environmentalists would find acceptable.

In the end, the extension was supported by a wide range of groups that said it’s the most cost-effective way to combat climate change. But it met fierce opposition from environmental justice groups that said it’s riddled with giveaways to the oil industry, including too many free pollution permits.

Brown’s signing ceremony echoed one in the same spot 11 years ago, when Schwarzenegger signed a bill that authorized state environmental regulators to create the cap and trade program.

Schwarzenegger highlighted support from eight Republican lawmakers, saying they’ve shown that the GOP can get behind free-market solutions to climate change.

Schwarzenegger’s bill required the state to reduce its carbon emissions to 1990 levels by 2020 — a target the state is on track to meet. Legislation approved last year set a new, much more aggressive goal to reduce emissions another 40 percent by 2030.

Cap and trade puts a limit on carbon emissions and requires polluters to obtain permits to release greenhouse gases. Some permits, known as allowances, are given away while others are auctioned, generating billions of dollars in revenue for the state.

The money is a key funding source for programs that reduce greenhouse gas emissions as well as a planned high-speed train between San Francisco and Los Angeles, one of Brown’s priorities.

The governor’s office said he’ll sign separate legislation tied to the cap and trade extension later this week.

It includes a bill that could give Republicans more say in spending the money and another to improve efforts to monitor and clean up the air around some of the dirtiest sources of pollution, such as oil refineries.